<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
        <meta http-equiv="Content-Style-Type" content="text/css"/>
        <meta http-equiv="pragma" content="no-cache"/>
        <meta http-equiv="Expires" content="Thu, 01 Dec 1994 120000 GMT"/>
        <title>pycsw Tester for ISO Metadata Application Profile</title>
        <style type="text/css">
            body {
                background-color: #ffffff;
                font-family: arial, verdana, sans-serif;
                text-align: left;
                float: left;
            }
            .flat {
                border: 0px;
            }
        </style>
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
        <script type="text/javascript">
            $(document).ready(function() {
                $('.xml').change(function() {
                    if ($(this).val() != 'none') {
                        $.ajax({
                            type: 'GET',
                            url: $(this).val(),
                            dataType: 'text',
                            success: function(data) {
                                $('.request').val(data);
                            }
                        });
                    }
                });
                $('.send').click(function() {
                    $.ajax({
                        type: 'POST',
                        contentType: 'text/xml',
                        url: $('.server').val(),
                        data: $('.request').val(),
                        dataType: 'text',
                        success: function(data) {
                            $('.response').val(data);
                        },
                        error: function(data1) {
                            $('.response').val(data1.responseText);
                        }
                    });
                });
            });
        </script>
    </head>
    <body>
        <h2 class="header">pycsw Tester for ISO Metadata Application Profile</h2>
        <hr/>
        <form action="#" id="tester">
            <table>
                <tr>
                    <th>Request</th>
                    <th>Response</th>
                </tr>
                <tr>
                    <td>
                        <select class="xml">
                            <option value="none">Select a CSW Request</option> 
                            <optgroup label="GetCapabilities">
                                <option value="../../../../tester/GetCapabilities.xml">GetCapabilities</option> 
                            </optgroup>
                            <optgroup label="DescribeRecord">
                                <option value="DescribeRecord.xml">DescribeRecord</option> 
                            </optgroup>
                            <optgroup label="GetDomain">
                                <option value="GetDomain.xml">GetDomain</option> 
                            </optgroup>
                            <optgroup label="GetRecords">
                            </optgroup>
                            <optgroup label="GetRecordById">
                                <option value="GetRecordById-brief.xml">GetRecordById-brief</option> 
                                <option value="GetRecordById-full.xml">GetRecordById-full</option> 
                            </optgroup>
                        </select>
                        <input type="button" class="send" value="Send"/>
                    </td>
                    <td>
                        Server: <input type="text" size="40" class="server" value="../../../../csw.py"/>
                    </td>
                </tr>
                <tr>
                    <td>
                        <textarea rows="20" cols="70" class="request"></textarea>
                    </td>
                    <td>
                        <textarea rows="20" cols="70" class="response"></textarea>
                    </td>
                </tr>
            </table>
        </form>
        <p>
            <a href="http://validator.w3.org/check?verbose=1&amp;uri=referer" title="[ Valid XHTML 1.0! ]"><img class="flat" src="http://www.w3.org/Icons/valid-xhtml10-blue" alt="[ Valid XHTML 1.0! ]" height="31" width="88"/></a>
            <a href="http://jigsaw.w3.org/css-validator/check/referer" title="[ Valid CSS! ]"><img class="flat" src="http://jigsaw.w3.org/css-validator/images/vcss-blue" alt="[ Valid CSS! ]" height="31" width="88"/></a>
        </p>
    </body>
</html>
